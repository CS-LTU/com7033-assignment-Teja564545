{% extends "base.html" %}
{% block title %}Patients{% endblock %}
{% block content %}
<h2>Patients</h2>
<a class="btn btn-primary mb-3" href="{{ url_for('patient_create') }}">Add New Patient</a>

<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th>ID</th>
      <th>Age</th>
      <th>Gender</th>
      <th>Stroke</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    {% for patient in patients.items %}
      <tr>
        <td>{{ patient.id }}</td>
        <td>{{ patient.age }}</td>
        <td>{{ patient.gender | e }}</td>
        <td>{{ "Yes" if patient.stroke else "No" }}</td>
        <td>
          <a class="btn btn-sm btn-outline-secondary" href="{{ url_for('patient_detail', patient_id=patient.id) }}">
            View
          </a>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>

<nav>
  <ul class="pagination">
    {% if patients.has_prev %}
      <li class="page-item">
        <a class="page-link" href="{{ url_for('patients_list', page=patients.prev_num) }}">Previous</a>
      </li>
    {% endif %}
    <li class="page-item disabled">
      <span class="page-link">
        Page {{ patients.page }} of {{ patients.pages }}
      </span>
    </li>
    {% if patients.has_next %}
      <li class="page-item">
        <a class="page-link" href="{{ url_for('patients_list', page=patients.next_num) }}">Next</a>
      </li>
    {% endif %}
  </ul>
</nav>
{% endblock %}
